-- Update Color Scheme
-- This script updates the site_settings colors to match the new oklch color scheme
-- Supports both light and dark themes

UPDATE site_settings
SET colors = '{
  "light": {
    "background": "oklch(1.0000 0 0)",
    "foreground": "oklch(0.1884 0.0128 248.5103)",
    "card": "oklch(0.9784 0.0011 197.1387)",
    "cardForeground": "oklch(0.1884 0.0128 248.5103)",
    "popover": "oklch(1.0000 0 0)",
    "popoverForeground": "oklch(0.1884 0.0128 248.5103)",
    "primary": "oklch(0.6723 0.1606 244.9955)",
    "primaryForeground": "oklch(1.0000 0 0)",
    "secondary": "oklch(0.1884 0.0128 248.5103)",
    "secondaryForeground": "oklch(1.0000 0 0)",
    "muted": "oklch(0.9222 0.0013 286.3737)",
    "mutedForeground": "oklch(0.1884 0.0128 248.5103)",
    "accent": "oklch(0.9392 0.0166 250.8453)",
    "accentForeground": "oklch(0.6723 0.1606 244.9955)",
    "destructive": "oklch(0.6188 0.2376 25.7658)",
    "destructiveForeground": "oklch(1.0000 0 0)",
    "border": "oklch(0.9317 0.0118 231.6594)",
    "input": "oklch(0.9809 0.0025 228.7836)",
    "ring": "oklch(0.6818 0.1584 243.3540)",
    "chart1": "oklch(0.6723 0.1606 244.9955)",
    "chart2": "oklch(0.6907 0.1554 160.3454)",
    "chart3": "oklch(0.8214 0.1600 82.5337)",
    "chart4": "oklch(0.7064 0.1822 151.7125)",
    "chart5": "oklch(0.5919 0.2186 10.5826)",
    "sidebarBackground": "oklch(0.9784 0.0011 197.1387)",
    "sidebarForeground": "oklch(0.1884 0.0128 248.5103)",
    "sidebarPrimary": "oklch(0.6723 0.1606 244.9955)",
    "sidebarPrimaryForeground": "oklch(1.0000 0 0)",
    "sidebarAccent": "oklch(0.9392 0.0166 250.8453)",
    "sidebarAccentForeground": "oklch(0.6723 0.1606 244.9955)",
    "sidebarBorder": "oklch(0.9271 0.0101 238.5177)",
    "sidebarRing": "oklch(0.6818 0.1584 243.3540)"
  },
  "dark": {
    "background": "oklch(0 0 0)",
    "foreground": "oklch(0.9328 0.0025 228.7857)",
    "card": "oklch(0.2097 0.0080 274.5332)",
    "cardForeground": "oklch(0.8853 0 0)",
    "popover": "oklch(0 0 0)",
    "popoverForeground": "oklch(0.9328 0.0025 228.7857)",
    "primary": "oklch(0.6692 0.1607 245.0110)",
    "primaryForeground": "oklch(1.0000 0 0)",
    "secondary": "oklch(0.9622 0.0035 219.5331)",
    "secondaryForeground": "oklch(0.1884 0.0128 248.5103)",
    "muted": "oklch(0.2090 0 0)",
    "mutedForeground": "oklch(0.5637 0.0078 247.9662)",
    "accent": "oklch(0.1928 0.0331 242.5459)",
    "accentForeground": "oklch(0.6692 0.1607 245.0110)",
    "destructive": "oklch(0.6188 0.2376 25.7658)",
    "destructiveForeground": "oklch(1.0000 0 0)",
    "border": "oklch(0.2674 0.0047 248.0045)",
    "input": "oklch(0.3020 0.0288 244.8244)",
    "ring": "oklch(0.6818 0.1584 243.3540)",
    "chart1": "oklch(0.6723 0.1606 244.9955)",
    "chart2": "oklch(0.6907 0.1554 160.3454)",
    "chart3": "oklch(0.8214 0.1600 82.5337)",
    "chart4": "oklch(0.7064 0.1822 151.7125)",
    "chart5": "oklch(0.5919 0.2186 10.5826)",
    "sidebarBackground": "oklch(0.2097 0.0080 274.5332)",
    "sidebarForeground": "oklch(0.8853 0 0)",
    "sidebarPrimary": "oklch(0.6818 0.1584 243.3540)",
    "sidebarPrimaryForeground": "oklch(1.0000 0 0)",
    "sidebarAccent": "oklch(0.1928 0.0331 242.5459)",
    "sidebarAccentForeground": "oklch(0.6692 0.1607 245.0110)",
    "sidebarBorder": "oklch(0.3795 0.0220 240.5943)",
    "sidebarRing": "oklch(0.6818 0.1584 243.3540)"
  }
}'::jsonb
WHERE id = (SELECT id FROM site_settings LIMIT 1);

-- If no row exists, create one
INSERT INTO site_settings (colors)
SELECT '{
  "light": {
    "background": "oklch(1.0000 0 0)",
    "foreground": "oklch(0.1884 0.0128 248.5103)",
    "card": "oklch(0.9784 0.0011 197.1387)",
    "cardForeground": "oklch(0.1884 0.0128 248.5103)",
    "popover": "oklch(1.0000 0 0)",
    "popoverForeground": "oklch(0.1884 0.0128 248.5103)",
    "primary": "oklch(0.6723 0.1606 244.9955)",
    "primaryForeground": "oklch(1.0000 0 0)",
    "secondary": "oklch(0.1884 0.0128 248.5103)",
    "secondaryForeground": "oklch(1.0000 0 0)",
    "muted": "oklch(0.9222 0.0013 286.3737)",
    "mutedForeground": "oklch(0.1884 0.0128 248.5103)",
    "accent": "oklch(0.9392 0.0166 250.8453)",
    "accentForeground": "oklch(0.6723 0.1606 244.9955)",
    "destructive": "oklch(0.6188 0.2376 25.7658)",
    "destructiveForeground": "oklch(1.0000 0 0)",
    "border": "oklch(0.9317 0.0118 231.6594)",
    "input": "oklch(0.9809 0.0025 228.7836)",
    "ring": "oklch(0.6818 0.1584 243.3540)",
    "chart1": "oklch(0.6723 0.1606 244.9955)",
    "chart2": "oklch(0.6907 0.1554 160.3454)",
    "chart3": "oklch(0.8214 0.1600 82.5337)",
    "chart4": "oklch(0.7064 0.1822 151.7125)",
    "chart5": "oklch(0.5919 0.2186 10.5826)",
    "sidebarBackground": "oklch(0.9784 0.0011 197.1387)",
    "sidebarForeground": "oklch(0.1884 0.0128 248.5103)",
    "sidebarPrimary": "oklch(0.6723 0.1606 244.9955)",
    "sidebarPrimaryForeground": "oklch(1.0000 0 0)",
    "sidebarAccent": "oklch(0.9392 0.0166 250.8453)",
    "sidebarAccentForeground": "oklch(0.6723 0.1606 244.9955)",
    "sidebarBorder": "oklch(0.9271 0.0101 238.5177)",
    "sidebarRing": "oklch(0.6818 0.1584 243.3540)"
  },
  "dark": {
    "background": "oklch(0 0 0)",
    "foreground": "oklch(0.9328 0.0025 228.7857)",
    "card": "oklch(0.2097 0.0080 274.5332)",
    "cardForeground": "oklch(0.8853 0 0)",
    "popover": "oklch(0 0 0)",
    "popoverForeground": "oklch(0.9328 0.0025 228.7857)",
    "primary": "oklch(0.6692 0.1607 245.0110)",
    "primaryForeground": "oklch(1.0000 0 0)",
    "secondary": "oklch(0.9622 0.0035 219.5331)",
    "secondaryForeground": "oklch(0.1884 0.0128 248.5103)",
    "muted": "oklch(0.2090 0 0)",
    "mutedForeground": "oklch(0.5637 0.0078 247.9662)",
    "accent": "oklch(0.1928 0.0331 242.5459)",
    "accentForeground": "oklch(0.6692 0.1607 245.0110)",
    "destructive": "oklch(0.6188 0.2376 25.7658)",
    "destructiveForeground": "oklch(1.0000 0 0)",
    "border": "oklch(0.2674 0.0047 248.0045)",
    "input": "oklch(0.3020 0.0288 244.8244)",
    "ring": "oklch(0.6818 0.1584 243.3540)",
    "chart1": "oklch(0.6723 0.1606 244.9955)",
    "chart2": "oklch(0.6907 0.1554 160.3454)",
    "chart3": "oklch(0.8214 0.1600 82.5337)",
    "chart4": "oklch(0.7064 0.1822 151.7125)",
    "chart5": "oklch(0.5919 0.2186 10.5826)",
    "sidebarBackground": "oklch(0.2097 0.0080 274.5332)",
    "sidebarForeground": "oklch(0.8853 0 0)",
    "sidebarPrimary": "oklch(0.6818 0.1584 243.3540)",
    "sidebarPrimaryForeground": "oklch(1.0000 0 0)",
    "sidebarAccent": "oklch(0.1928 0.0331 242.5459)",
    "sidebarAccentForeground": "oklch(0.6692 0.1607 245.0110)",
    "sidebarBorder": "oklch(0.3795 0.0220 240.5943)",
    "sidebarRing": "oklch(0.6818 0.1584 243.3540)"
  }
}'::jsonb
WHERE NOT EXISTS (SELECT 1 FROM site_settings);

